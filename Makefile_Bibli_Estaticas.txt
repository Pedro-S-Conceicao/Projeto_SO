# Makefile Projeto Venda de Ingressos
#
OBJ = ./obj/

DEP = $(OBJ)Alterar_Shows.o $(OBJ)Buscar_Ingressos.o $(OBJ)Cadastrar_Administrador.o $(OBJ)Comprar_Shows.o $(OBJ)Excluir_Shows.o $(OBJ)Faturar_Ingressos.o $(OBJ)Incluir_Cidades.o $(OBJ)Inserir_Shows.o $(OBJ)Tela_Administrador.o $(OBJ)Tela_Cadastro.o $(OBJ)Tela_Cidades.o $(OBJ)Tela_Login.o $(OBJ)Tela_Recuperar.o $(OBJ)Tela_Shows.o $(OBJ)Tela_Usuario.o $(OBJ)Tela_Inicial.o

STATICLIB = ./lib/libProjeto_Venda_de_Ingressos.a

all:	criar_pastas $(DEP) $(STATICLIB) projeto.exe clean run

$(OBJ)%.o:      %.c
	gcc -c $< -o $@

projeto.exe: $(DEP)
	gcc -static $< -L ./lib -lProjeto_Venda_de_Ingressos -o ./output/$@ 
	
%.a:
	ar rcs $(STATICLIB) $(DEP)

criar_pastas:	
	mkdir obj lib output

run:
	./output/projeto.exe

clean:
	rm -r obj/
	rm -r lib/
