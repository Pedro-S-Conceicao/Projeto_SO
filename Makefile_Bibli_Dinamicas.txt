# Makefile Projeto Venda de Ingressos
#
OBJ = ./obj/

DEP = $(OBJ)Alterar_Shows.o $(OBJ)Buscar_Ingressos.o $(OBJ)Cadastrar_Administrador.o $(OBJ)Comprar_Shows.o $(OBJ)Excluir_Shows.o $(OBJ)Faturar_Ingressos.o $(OBJ)Incluir_Cidades.o $(OBJ)Inserir_Shows.o $(OBJ)Tela_Administrador.o $(OBJ)Tela_Cadastro.o $(OBJ)Tela_Cidades.o $(OBJ)Tela_Login.o $(OBJ)Tela_Recuperar.o $(OBJ)Tela_Shows.o $(OBJ)Tela_Usuario.o $(OBJ)Tela_Inicial.o

SHAREDLIB = ./lib/libProjeto_Venda_de_Ingressos.so

all:	criar_pastas $(DEP) $(SHAREDLIB) projeto.exe clean run 

$(OBJ)%.o:	%.c
	gcc -fPIC -c $< -o $@

projeto.exe: $(DEP)
	gcc -Wl,-R -Wl,./lib $< -L ./lib -lProjeto_Venda_de_Ingressos -o ./output/$@ 


%.so:
	gcc -shared -o $(SHAREDLIB) $(OBJ)*.o

criar_pastas:
	mkdir obj lib output

run:
	./output/projeto.exe

clean:
	rm -r obj/
